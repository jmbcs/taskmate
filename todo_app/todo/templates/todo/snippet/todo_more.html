<!-- MORE BUTTON Modal -->
<dialog id="todo_details_{{ todo.id }}" class="modal">
    <div class="modal-box">
        <form method="dialog">
            <button class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2">âœ•</button>
        </form>
        <h3 class="text-lg font-bold text-blue-500">{{ todo.description }}</h3>
        <p class="text-gray-700 mt-4">
            <strong>Category:</strong> {{ todo.get_category_display }}
        </p>
        <p class="text-gray-700 mt-4">
            <strong>Status:</strong> {{ todo.get_status_display }}
        </p>
        <p class="text-gray-700 mt-4">
            <strong>Priority:</strong> {{ todo.get_priority_display }}
        </p>
        <p class="text-gray-700 mt-4">
            <strong>Due Date:</strong> {{ todo.due_date }}
        </p>
        <p class="text-gray-700 mt-4">
            <strong>Created:</strong> {{ todo.created_at }}
        </p>
        <p class="text-gray-700 mt-4">
            <strong>Updated:</strong> {{ todo.updated_at }}
        </p>
        <p class="text-gray-700 mt-4">
            <strong>Note:</strong> {{ todo.notes }}
        </p>
        <div class="flex justify-between mt-8">
            <button class="btn btn-sm"
                    hx-get="{% url 'todo_edit' todo.id %}"
                    hx-target="#todo_edit_{{ todo.id }}"
                    hx-swap="beforeend"
                    hx-trigger="click"
                    onclick="todo_details_{{ todo.id }}.close(); todo_edit_{{ todo.id }}.showModal() ">
                Edit Task
            </button>
            <!-- Delete Button -->
            <button class="btn btn-sm btn-error"
                    onclick="todo_details_{{ todo.id }}.close();todo_delete_{{ todo.id }}.showModal();">
                Delete Task
            </button>
        </div>
    </div>
</dialog>
<dialog id="todo_edit_{{ todo.id }}" class="modal">
</dialog>
<!-- DELETE BUTTON -->
<dialog id="todo_delete_{{ todo.id }}" class="modal">
    <div class="modal-box">
        <h3 class="font-bold text-lg">Delete Task</h3>
        <p class="py-4">Are you sure you want to delete this task?</p>
        <div class="modal-action">
            <form method="dialog">
                <button class="btn btn-sm"
                        onclick="todo_details_{{ todo.id }}.showModal();todo_delete_{{ todo.id }}.close() ">
                    Close
                </button>
                <button class="btn btn-error btn-sm"
                        hx-delete="{% url 'todo_delete' todo.id %}"
                        hx-target="#todo-{{ todo.id }}"
                        hx-headers='{"X-CSRFToken": "{{ csrf_token }}"}'
                        hx-swap="delete"
                        hx-trigger="click"
                        onclick="todo_details_{{ todo.id }}.close(); todo_delete_{{ todo.id }}.close()">Delete</button>
            </form>
        </div>
    </div>
</dialog>
