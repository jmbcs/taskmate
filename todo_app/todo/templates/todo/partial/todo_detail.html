<!-- Original Modal for Displaying Task Details -->
<div class="modal-box" id="task-details-modal">
    <form method="dialog">
        <button class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2">âœ•</button>
    </form>
    <h3 class="text-lg font-bold text-blue-500">{{ todo.description }}</h3>
    <p class="text-gray-700 mt-4">
        <strong>Category:</strong> {{ todo.get_task_category_display }}
    </p>
    <p class="text-gray-700 mt-4">
        <strong>Status:</strong> {{ todo.get_status_display }}
    </p>
    <p class="text-gray-700 mt-4">
        <strong>Priority:</strong> {{ todo.get_task_priority_display }}
    </p>
    <p class="text-gray-700 mt-4">
        <strong>Due Date:</strong> {{ todo.due_date }}
    </p>
    <p class="text-gray-700 mt-4">
        <strong>Created:</strong> {{ todo.created_at }}
    </p>
    <p class="text-gray-700 mt-4">
        <strong>Updated:</strong> {{ todo.updated_at }}
    </p>
    <p class="text-gray-700 mt-4">
        <strong>Note:</strong> {{ todo.notes }}
    </p>
    <div class="flex justify-between mt-8">
        <button class="btn btn-sm"
                hx-get="{% url 'edit_todo' todo.id %}"
                hx-trigger="click"
                hx-target="#edit-modal"
                hx-swap="outerHTML">Edit Task</button>
        <!-- Delete Button -->
        <button class="btn btn-sm btn-error"
                hx-on="click:document.getElementById('delete-confirm-modal').showModal()">Delete Task</button>
    </div>
</div>
<!-- Edit Modal -->
<div id="edit-modal"></div>
<!-- Confirmation Modal for Deleting Task -->
<dialog id="delete-confirm-modal" class="modal">
    <form method="dialog" class="modal-box">
        <h3 class="font-bold text-lg">Delete Task</h3>
        <p class="py-4">Are you sure you want to delete this task?</p>
        <div class="modal-action">
            <button class="btn btn-sm" type="submit">Cancel</button>
            <button class="btn btn-error btn-sm"
                    hx-delete="{% url 'delete_todo' todo.id %}"
                    hx-target="#todo-{{ todo.id }}"
                    hx-headers='{"X-CSRFToken": "{{ csrf_token }}"}'
                    hx-remove="#todo-{{ todo.id }}"
                    hx-swap="delete"
                    hx-on::after-request="document.getElementById('delete-confirm-modal').close(); document.querySelector('.modal-backdrop button').click();">
                Delete
            </button>
        </div>
    </form>
</dialog>
<!-- Modal Backdrop -->
<form method="dialog" class="modal-backdrop">
    <button>close</button>
</form>
